#!/bin/bash

rm ../*.n
rm ../*.json

################################################################################
echo "> building: VimStudioClient & VimStudioServer" ###########################
################################################################################

cd VimStudioSys

rm -rf Export
haxe build.hxml

cp Export/linux64/neko/bin/*.n ../../
cp Export/linux64/neko/bin/*.json ../../

################################################################################
echo "   done." ################################################################
################################################################################
echo "> building: ChooseName" ##################################################
################################################################################

cd ../ChooseName

rm -rf Export
lime build neko

cp Export/linux64/neko/release/obj/ApplicationMain.n ../../ChooseName.n

################################################################################
echo "   done." ################################################################
################################################################################
echo "> building: SearchAndReplace" ############################################
################################################################################

cd ../SearchAndReplace

rm -rf Export
lime build neko

cp Export/linux64/neko/release/obj/ApplicationMain.n ../../SearchAndReplace.n

################################################################################
echo "   done." ################################################################
################################################################################
echo "> building: ChooseTemplate" ##############################################
################################################################################

cd ../ChooseTemplate

rm -rf Export
lime build neko

cp Export/linux64/neko/release/obj/ApplicationMain.n ../../ChooseTemplate.n

################################################################################
echo "   done." ################################################################
################################################################################
echo "> building: ContextMenu" #################################################
################################################################################

cd ../ContextMenu

rm -rf Export
lime build neko

cp Export/linux64/neko/release/obj/ApplicationMain.n ../../ContextMenu.n

################################################################################
echo "   done." ################################################################
################################################################################
